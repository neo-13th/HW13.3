# Домашнее задание к занятию «Защита сети»
## Задание 1  
Проведите разведку системы и определите, какие сетевые службы запущены на защищаемой системе:  

sudo nmap -sA < ip-адрес >  

sudo nmap -sT < ip-адрес >  

sudo nmap -sS < ip-адрес >  

sudo nmap -sV < ip-адрес >  

В качестве ответа пришлите события, которые попали в логи Suricata и Fail2Ban, прокомментируйте результат. 

Атакуемая машина имеет адрес 192.168.1.14, атакующая 192.168.1.13  

![nmap](https://github.com/user-attachments/assets/1f75b495-3969-4496-83d8-151254dff2f7)  
![sr1](https://github.com/user-attachments/assets/f6daca81-b6a0-4811-beb6-de9ff6755f09)

При использовании утилиты nmap в лог Suricata начали попадать события о потенциально опасном трафике на порты  3306 и 1521. В зависимости от используемого ключа при использовании nmap добавлялась инфо о версии ОС,имени,  менялись и сканируемые порты, в логе добавлялись новые  записи о портах на которые идет трафик.   

File2ban на действия не реагировал и в лог не писал до использования последнего скрипта. Во время выполнения последнего скрипта выдал сообщение о закрытии соединения с атакующим устройсвом, которое имеет адрес 192.168.1.13  

![fb1](https://github.com/user-attachments/assets/dfd18bb6-bc56-4440-b580-514f7f0e43c0)  

## Задание 2
Проведите атаку на подбор пароля для службы SSH:  

hydra -L users.txt -P pass.txt < ip-адрес > ssh  

Настройка hydra:  
создайте два файла: users.txt и pass.txt;  
в каждой строчке первого файла должны быть имена пользователей, второго — пароли. В нашем случае это могут быть случайные строки, но ради эксперимента можете добавить имя и пароль существующего пользователя.  


В качестве ответа пришлите события, которые попали в логи Suricata и Fail2Ban, прокомментируйте результат.  

![hdra1](https://github.com/user-attachments/assets/46fcc4a3-1558-4dfb-b822-49a225113d22)  
При включенномм Fail2ban после нескольких попыток подбора атакующая  машина попала в бан, Hydra выдала сообщение об ошибке. В лог Suricata попадали сообщения об сканировании по порту SSH, после бана атакующей машины, сообщения в лог не добавлялись, так как атаки совершать машина уже не могла.

![hydra2](https://github.com/user-attachments/assets/92b35298-919c-49c3-955f-bbe0ac255982)  
![surlog](https://github.com/user-attachments/assets/a057c13f-a32b-4a6e-a95b-2c6233f2c0a3)  
При выключенном Fail2ban, утилита Hydra до конца выполняла свой подбор и выдавала сообщение о корректном завершении. Так как атакующая машина не банилась, ничего не мешало выполнять Hydra свою работу  и все это время в лог Suricata шли сообщения о сканировании порта SSH.










